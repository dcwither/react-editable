(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1831:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(1833);var _storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(643);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.configure)(__webpack_require__(1860),module)}.call(this,__webpack_require__(1832)(module))},1833:function(module,exports,__webpack_require__){var api=__webpack_require__(1834),content=__webpack_require__(1835);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1835:function(module,exports,__webpack_require__){(exports=__webpack_require__(1836)(!1)).push([module.i,".fields > div,\n.fields > h1,\n.fields > h2 {\n  margin-bottom: 1rem;\n}\n\n.fields {\n  margin-bottom: 1rem;\n}\n\n.asked-questions {\n  margin-top: 3rem;\n}\n\n.buttons button {\n  margin-right: 1rem;\n}\n\n.question > div,\n.question > h2,\n.question > h3,\n.question > p {\n  margin-bottom: 1rem;\n}\n",""]),module.exports=exports},1860:function(module,exports,__webpack_require__){var map={"./editable.stories.jsx":1889};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1860},1870:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(0)),use_editable_1=__importStar(__webpack_require__(628)),EditableContext=react_1.createContext({onCancel:function(){return null},onChange:function(){return null},onCommit:function(){return Promise.resolve()},onStart:function(){return null},status:use_editable_1.EditableStatus.PRESENTING,value:void 0});exports.EditableContextConsumer=EditableContext.Consumer,exports.Editable=function Editable(props){var editableValue=use_editable_1.default({value:props.value,onCommit:props.onCommit,onCancel:props.onCancel});return react_1.default.createElement(EditableContext.Provider,{value:editableValue},props.children)},exports.useEditableContext=function useEditableContext(){return react_1.useContext(EditableContext)}},1871:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function makeCancelable(promise){var hasCanceled=!1,cancelablePromise=new Promise((function(resolve,reject){promise.then((function(val){return hasCanceled?reject({isCanceled:!0}):resolve(val)}),(function(error){return reject(hasCanceled?{isCanceled:!0}:error)}))}));return cancelablePromise.cancel=function(){hasCanceled=!0},cancelablePromise}},1872:function(module,exports,__webpack_require__){"use strict";var Status;function edit(value){return{status:Status.EDITING,value:value}}function reset(){return{status:Status.PRESENTING,value:void 0}}Object.defineProperty(exports,"__esModule",{value:!0}),function(Status){Status.PRESENTING="PRESENTING",Status.EDITING="EDITING",Status.COMMITTING="COMMITTING"}(Status=exports.Status||(exports.Status={})),function(Action){Action.CANCEL="CANCEL",Action.CHANGE="CHANGE",Action.COMMIT="COMMIT",Action.FAIL="FAIL",Action.START="START",Action.SUCCESS="SUCCESS"}(exports.Action||(exports.Action={})),exports.transitions={PRESENTING:{START:edit,CHANGE:edit,COMMIT:function(value){return{status:Status.COMMITTING,value:value}}},EDITING:{CANCEL:reset,CHANGE:edit,COMMIT:function(value){return{status:Status.COMMITTING,value:value}}},COMMITTING:{FAIL:function(value){return{status:Status.EDITING,value:value}},SUCCESS:reset}},exports.default=function transition(status,action,value){return exports.transitions[status][action]?exports.transitions[status][action](value):{status:status,value:value}}},1889:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"_QuestionForm",(function(){return _QuestionForm})),__webpack_require__.d(__webpack_exports__,"QuestionFormAsync",(function(){return QuestionFormAsync})),__webpack_require__.d(__webpack_exports__,"QuestionFormList",(function(){return QuestionFormList}));__webpack_require__(4),__webpack_require__(13),__webpack_require__(26),__webpack_require__(78),__webpack_require__(41),__webpack_require__(18),__webpack_require__(56),__webpack_require__(36),__webpack_require__(27),__webpack_require__(16),__webpack_require__(37),__webpack_require__(21),__webpack_require__(23);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Button=__webpack_require__(1932),Paper=__webpack_require__(1926),prop_types=__webpack_require__(55),prop_types_default=__webpack_require__.n(prop_types);function Container(storyFn){return react_default.a.createElement(Paper.a,{style:{width:"30em",margin:"3em auto",padding:"1em 3em"}},storyFn())}Container.displayName="Container",Container.propTypes={children:prop_types_default.a.node},Container.__docgenInfo={description:"",methods:[],displayName:"Container",props:{children:{type:{name:"node"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/container.jsx"]={name:"Container",docgenInfo:Container.__docgenInfo,path:"stories/container.jsx"});var src=__webpack_require__(69),bluebird=__webpack_require__(647),bluebird_default=__webpack_require__.n(bluebird),IconButton=(__webpack_require__(101),__webpack_require__(345),__webpack_require__(625),__webpack_require__(1935)),Icon=__webpack_require__(1933),TextField=(__webpack_require__(32),__webpack_require__(22),__webpack_require__(6),__webpack_require__(126),__webpack_require__(52),__webpack_require__(113),__webpack_require__(7),__webpack_require__(127),__webpack_require__(361),__webpack_require__(1937));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var input_Input=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Input,_React$Component);var _super=function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(Input);function Input(){var _this;_classCallCheck(this,Input);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"handleChange",(function(evt){_this.props.onChange(evt.target.value)})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Input,[{key:"render",value:function render(){var _this$props=this.props,title=_this$props.title,status=_this$props.status,value=_this$props.value,rest=_objectWithoutProperties(_this$props,["title","status","value"]);return react_default.a.createElement(TextField.a,_extends({},rest,{disabled:status===src.EditableStatus.COMMITTING,label:title,onChange:this.handleChange,value:value}))}}]),Input}(react_default.a.Component);input_Input.displayName="Input",_defineProperty(input_Input,"propTypes",{onChange:prop_types_default.a.func.isRequired,status:src.EditableStatusType.isRequired,title:prop_types_default.a.string.isRequired,value:prop_types_default.a.string.isRequired}),input_Input.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"evt",type:null}],returns:null}],displayName:"Input",props:{onChange:{type:{name:"func"},required:!0,description:""},status:{type:{name:"custom",raw:"EditableStatusType.isRequired"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},value:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/input.js"]={name:"Input",docgenInfo:input_Input.__docgenInfo,path:"examples/input.js"});__webpack_require__(17);var Chip=__webpack_require__(1939),MenuItem=__webpack_require__(1940),Select=__webpack_require__(1936);function tag_selector_typeof(obj){return(tag_selector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function tag_selector_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function tag_selector_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function tag_selector_possibleConstructorReturn(self,call){return!call||"object"!==tag_selector_typeof(call)&&"function"!=typeof call?tag_selector_assertThisInitialized(self):call}function tag_selector_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function tag_selector_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tag_selector_getPrototypeOf(o){return(tag_selector_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function tag_selector_setPrototypeOf(o,p){return(tag_selector_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function tag_selector_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TAG_OPTIONS=["ajax","angular","angularjs","canvas","css","d3","dom","express","forms","html","html5","java","jquery","json","mobx","node","reactjs","redux","regex","semantic-markup","typescript"],tag_selector_TagSelector=function(_React$Component){!function tag_selector_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&tag_selector_setPrototypeOf(subClass,superClass)}(TagSelector,_React$Component);var _super=function tag_selector_createSuper(Derived){return function(){var result,Super=tag_selector_getPrototypeOf(Derived);if(tag_selector_isNativeReflectConstruct()){var NewTarget=tag_selector_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return tag_selector_possibleConstructorReturn(this,result)}}(TagSelector);function TagSelector(){var _this;tag_selector_classCallCheck(this,TagSelector);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return tag_selector_defineProperty(tag_selector_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"handleChange",(function(evt){_this.props.onChange(evt.target.value)})),_this}return function tag_selector_createClass(Constructor,protoProps,staticProps){return protoProps&&tag_selector_defineProperties(Constructor.prototype,protoProps),staticProps&&tag_selector_defineProperties(Constructor,staticProps),Constructor}(TagSelector,[{key:"render",value:function render(){var tags=this.props.tags;return react_default.a.createElement(Select.a,{fullWidth:!0,multiple:!0,value:tags,onChange:this.handleChange,renderValue:function renderValue(selected){return react_default.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},selected.map((function(tag,idx){return react_default.a.createElement(Chip.a,{style:{margin:2},key:idx,label:tag})})))}},TAG_OPTIONS.map((function(tag,idx){return react_default.a.createElement(MenuItem.a,{key:idx,value:tag},tag)})))}}]),TagSelector}(react_default.a.Component);tag_selector_TagSelector.displayName="TagSelector",tag_selector_defineProperty(tag_selector_TagSelector,"propTypes",{onChange:prop_types_default.a.func.isRequired,tags:prop_types_default.a.arrayOf(prop_types_default.a.string).isRequired}),tag_selector_TagSelector.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"evt",type:null}],returns:null}],displayName:"TagSelector",props:{onChange:{type:{name:"func"},required:!0,description:""},tags:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/tag-selector.js"]={name:"TagSelector",docgenInfo:tag_selector_TagSelector.__docgenInfo,path:"examples/tag-selector.js"});var Typography=__webpack_require__(1934),emptyQuestion={author:{firstName:"",lastName:""},body:"",tags:[],title:""},immer_esm=__webpack_require__(118),Buttons=function(_ref){var onCancel=_ref.onCancel,onUpdate=_ref.onUpdate,onDelete=_ref.onDelete,onCreate=_ref.onCreate,id=_ref.id;return Number.isInteger(id)?react_default.a.createElement("div",{className:"buttons"},react_default.a.createElement(Button.a,{variant:"contained",color:"default",onClick:onCancel},"Cancel"),react_default.a.createElement(Button.a,{variant:"contained",color:"primary",onClick:onUpdate},"Update"),react_default.a.createElement(Button.a,{variant:"contained",color:"secondary",onClick:onDelete},"Delete")):react_default.a.createElement(Button.a,{variant:"contained",color:"primary",onClick:onCreate},"Create")},_ref2=react_default.a.createElement(Icon.a,null,"mode_edit"),_ref3=react_default.a.createElement(Typography.a,{variant:"h5",component:"h2"},"Your Question"),_ref4=react_default.a.createElement(Typography.a,{variant:"h6",component:"h3"},"Author");function QuestionForm(){var _useEditableContext=Object(src.useEditableContext)(),onCancel=_useEditableContext.onCancel,onChange=_useEditableContext.onChange,onCommit=_useEditableContext.onCommit,onStart=_useEditableContext.onStart,status=_useEditableContext.status,value=_useEditableContext.value,handleChangeTags=Object(react.useCallback)((function(nextTags){return onChange(Object(immer_esm.a)(value,(function(draft){draft.tags=nextTags})))}),[onChange,value]),handleChangeTitle=Object(react.useCallback)((function(nextTitle){return onChange(Object(immer_esm.a)(value,(function(draft){draft.title=nextTitle})))}),[onChange,value]),handleChangeBody=Object(react.useCallback)((function(nextBody){return onChange(Object(immer_esm.a)(value,(function(draft){draft.body=nextBody})))}),[onChange,value]),handleChangeFirstName=Object(react.useCallback)((function(nextFirstName){return onChange(Object(immer_esm.a)(value,(function(draft){draft.author.firstName=nextFirstName})))}),[onChange,value]),handleChangeLastName=Object(react.useCallback)((function(nextLastName){return onChange(Object(immer_esm.a)(value,(function(draft){draft.author.lastName=nextLastName})))}),[onChange,value]),handleCreate=Object(react.useCallback)((function(){return onCommit("CREATE")}),[onCommit]),handleUpdate=Object(react.useCallback)((function(){return onCommit("UPDATE")}),[onCommit]),handleDelete=Object(react.useCallback)((function(){return onCommit("DELETE")}),[onCommit]);return status===src.EditableStatus.PRESENTING&&Number.isInteger(value.id)?react_default.a.createElement("div",{className:"question"},react_default.a.createElement(Typography.a,{variant:"h5",component:"h2"},value.title,react_default.a.createElement(IconButton.a,{onClick:onStart},_ref2)),react_default.a.createElement(Typography.a,{variant:"body1"},value.tags.join(", ")),react_default.a.createElement(Typography.a,{variant:"body1"},value.body),react_default.a.createElement(Typography.a,{variant:"body1"},"- ",value.author.firstName," ",value.author.lastName)):react_default.a.createElement("div",{className:"form"},react_default.a.createElement("div",{className:"fields"},_ref3,react_default.a.createElement(input_Input,{title:"Title",onChange:handleChangeTitle,status:status,value:value.title,fullWidth:!0}),react_default.a.createElement(tag_selector_TagSelector,{tags:value.tags,onChange:handleChangeTags}),react_default.a.createElement(input_Input,{title:"Body",onChange:handleChangeBody,status:status,value:value.body,fullWidth:!0,multiline:!0}),_ref4,react_default.a.createElement(input_Input,{title:"First Name",onChange:handleChangeFirstName,status:status,value:value.author.firstName,fullWidth:!0}),react_default.a.createElement(input_Input,{title:"Last Name",onChange:handleChangeLastName,status:status,value:value.author.lastName,fullWidth:!0})),react_default.a.createElement(Buttons,{id:value.id,onCancel:onCancel,onUpdate:handleUpdate,onDelete:handleDelete,onCreate:handleCreate}))}QuestionForm.defaultProps=emptyQuestion,QuestionForm.__docgenInfo={description:"",methods:[],displayName:"QuestionForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/question-form.js"]={name:"QuestionForm",docgenInfo:QuestionForm.__docgenInfo,path:"examples/question-form.js"});__webpack_require__(61),__webpack_require__(48),__webpack_require__(530),__webpack_require__(99),__webpack_require__(1874),__webpack_require__(1875),__webpack_require__(212),__webpack_require__(51);var dist=__webpack_require__(190);function questions_with_form_typeof(obj){return(questions_with_form_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function questions_with_form_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function questions_with_form_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function questions_with_form_possibleConstructorReturn(self,call){return!call||"object"!==questions_with_form_typeof(call)&&"function"!=typeof call?questions_with_form_assertThisInitialized(self):call}function questions_with_form_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function questions_with_form_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function questions_with_form_getPrototypeOf(o){return(questions_with_form_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function questions_with_form_setPrototypeOf(o,p){return(questions_with_form_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function questions_with_form_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var update=Object(immer_esm.a)((function(draft,action){switch(action.type){case"CREATE":return draft.questions[draft.nextId]=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){questions_with_form_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},action.value,{id:draft.nextId}),void(draft.nextId+=1);case"UPDATE":return void(draft.questions[action.value.id]=action.value);case"DELETE":return void delete draft.questions[action.value.id];default:throw new Error("bad message")}})),questions_with_form_ref=react_default.a.createElement(QuestionForm,null),questions_with_form_ref4=react_default.a.createElement(QuestionForm,null),questions_with_form_QuestionsWithForm=function(_React$Component){!function questions_with_form_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&questions_with_form_setPrototypeOf(subClass,superClass)}(QuestionsWithForm,_React$Component);var _super=function questions_with_form_createSuper(Derived){return function(){var result,Super=questions_with_form_getPrototypeOf(Derived);if(questions_with_form_isNativeReflectConstruct()){var NewTarget=questions_with_form_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return questions_with_form_possibleConstructorReturn(this,result)}}(QuestionsWithForm);function QuestionsWithForm(){var _this;questions_with_form_classCallCheck(this,QuestionsWithForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return questions_with_form_defineProperty(questions_with_form_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"state",{nextId:2,questions:{1:{author:{firstName:"Bob",lastName:"B"},body:"I installed package x and now my code doesn't work.",id:1,tags:["javascript"],title:"I have a bug"},0:{author:{firstName:"Alice",lastName:"A"},body:"I've been doing x, y, and z and it hasn't been working. [Reference](http://example.com) says I should do w but I'm not sure how...",id:0,tags:["react","redux"],title:"How do I connect a component to react redux"}}}),questions_with_form_defineProperty(questions_with_form_assertThisInitialized(_this),"handleCommit",(function(message,value){Object(dist.action)(message)(value),_this.setState(update(_this.state,{type:message,value:value}))})),_this}return function questions_with_form_createClass(Constructor,protoProps,staticProps){return protoProps&&questions_with_form_defineProperties(Constructor.prototype,protoProps),staticProps&&questions_with_form_defineProperties(Constructor,staticProps),Constructor}(QuestionsWithForm,[{key:"render",value:function render(){var _this2=this;return react_default.a.createElement("div",null,react_default.a.createElement(src.Editable,{value:emptyQuestion,onCommit:this.handleCommit},questions_with_form_ref),react_default.a.createElement("div",{className:"asked-questions"},Object.values(this.state.questions).sort((function(_ref2,_ref3){var id1=_ref2.id;return _ref3.id-id1})).map((function(question){return react_default.a.createElement(src.Editable,{key:question.id,value:question,onCommit:_this2.handleCommit},questions_with_form_ref4)}))))}}]),QuestionsWithForm}(react_default.a.Component);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}questions_with_form_QuestionsWithForm.displayName="QuestionsWithForm",questions_with_form_defineProperty(questions_with_form_QuestionsWithForm,"propTypes",{}),questions_with_form_QuestionsWithForm.__docgenInfo={description:"",methods:[{name:"handleCommit",docblock:null,modifiers:[],params:[{name:"message",type:null},{name:"value",type:null}],returns:null}],displayName:"QuestionsWithForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["examples/questions-with-form.js"]={name:"QuestionsWithForm",docgenInfo:questions_with_form_QuestionsWithForm.__docgenInfo,path:"examples/questions-with-form.js"});__webpack_require__(626).withSource;var addSourceDecorator=__webpack_require__(626).addSource,__SOURCE_PREFIX__="/home/runner/work/react-editable/react-editable/stories",__STORY__='import React, { useState } from "react";\n\nimport Button from "@material-ui/core/Button";\nimport Container from "./container";\nimport { Editable } from "../src";\nimport Promise from "bluebird";\nimport QuestionForm from "../examples/question-form";\nimport QuestionsWithForm from "../examples/questions-with-form";\nimport { action } from "@storybook/addon-actions";\n\nfunction TestHarness({ initialValue, async }) {\n  const [value, setValue] = useState(initialValue);\n  const [deleted, setDeleted] = useState(false);\n\n  const maybeDelayThenSetState = (value, deleted) => {\n    if (async) {\n      return Promise.delay(1000).then(() => {\n        setValue(value);\n        setDeleted(deleted);\n      });\n    } else {\n      setValue(value);\n      setDeleted(deleted);\n    }\n  };\n\n  const handleCommit = (message, value) => {\n    action(message)(value);\n    switch (message) {\n      case "CREATE":\n      case "UPDATE":\n        return maybeDelayThenSetState(value, false);\n      case "DELETE":\n        return maybeDelayThenSetState(initialValue, true);\n      default:\n        throw new Error("bad message");\n    }\n  };\n\n  const handleReset = () => {\n    setDeleted(false);\n  };\n\n  return deleted ? (\n    <Button\n      onClick={handleReset}\n      color="primary"\n      variant="contained"\n      style={{ margin: "2em" }}\n    >\n      Item Deleted - Reset\n    </Button>\n  ) : (\n    <Editable value={value} onCommit={handleCommit} onCancel={action("CANCEL")}>\n      <QuestionForm />\n    </Editable>\n  );\n}\n\nexport default {\n  title: "ReactEditable",\n  component: Editable,\n  decorators: [Container]\n};\n\nexport const _QuestionForm = () => {\n  return (\n    <TestHarness\n      initialValue={{\n        author: {\n          firstName: "Alice",\n          lastName: "B"\n        },\n        body:\n          "I\'ve been doing x, y, and z and it hasn\'t been working. [Reference](http://example.com) says I should do w but I\'m not sure how...",\n        id: 1,\n        tags: ["react", "redux"],\n        title: "How do I connect a component to react redux"\n      }}\n    />\n  );\n};\n\nexport const QuestionFormAsync = () => {\n  return (\n    <TestHarness\n      initialValue={{\n        author: {\n          firstName: "Alice",\n          lastName: "B"\n        },\n        body:\n          "I\'ve been doing x, y, and z and it hasn\'t been working. [Reference](http://example.com) says I should do w but I\'m not sure how...",\n        id: 1,\n        tags: ["react", "redux"],\n        title: "How do I connect a component to react redux"\n      }}\n      async\n    />\n  );\n};\n\nexport const QuestionFormList = () => {\n  return <QuestionsWithForm />;\n};\n',__ADDS_MAP__={"reacteditable--question-form":{startLoc:{col:29,line:66},endLoc:{col:1,line:82},startBody:{col:29,line:66},endBody:{col:1,line:82}},"reacteditable--question-form-async":{startLoc:{col:33,line:84},endLoc:{col:1,line:101},startBody:{col:33,line:84},endBody:{col:1,line:101}},"reacteditable--question-form-list":{startLoc:{col:32,line:103},endLoc:{col:1,line:105},startBody:{col:32,line:103},endBody:{col:1,line:105}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},editable_stories_ref2=react_default.a.createElement(QuestionForm,null);function TestHarness(_ref){var initialValue=_ref.initialValue,async=_ref.async,_useState2=_slicedToArray(Object(react.useState)(initialValue),2),value=_useState2[0],setValue=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),deleted=_useState4[0],setDeleted=_useState4[1],maybeDelayThenSetState=function(value,deleted){if(async)return bluebird_default.a.delay(1e3).then((function(){setValue(value),setDeleted(deleted)}));setValue(value),setDeleted(deleted)};return deleted?react_default.a.createElement(Button.a,{onClick:function handleReset(){setDeleted(!1)},color:"primary",variant:"contained",style:{margin:"2em"}},"Item Deleted - Reset"):react_default.a.createElement(src.Editable,{value:value,onCommit:function handleCommit(message,value){switch(Object(dist.action)(message)(value),message){case"CREATE":case"UPDATE":return maybeDelayThenSetState(value,!1);case"DELETE":return maybeDelayThenSetState(initialValue,!0);default:throw new Error("bad message")}},onCancel:Object(dist.action)("CANCEL")},editable_stories_ref2)}__webpack_exports__.default={parameters:{storySource:{source:'import React, { useState } from "react";\n\nimport Button from "@material-ui/core/Button";\nimport Container from "./container";\nimport { Editable } from "../src";\nimport Promise from "bluebird";\nimport QuestionForm from "../examples/question-form";\nimport QuestionsWithForm from "../examples/questions-with-form";\nimport { action } from "@storybook/addon-actions";\n\nfunction TestHarness({ initialValue, async }) {\n  const [value, setValue] = useState(initialValue);\n  const [deleted, setDeleted] = useState(false);\n\n  const maybeDelayThenSetState = (value, deleted) => {\n    if (async) {\n      return Promise.delay(1000).then(() => {\n        setValue(value);\n        setDeleted(deleted);\n      });\n    } else {\n      setValue(value);\n      setDeleted(deleted);\n    }\n  };\n\n  const handleCommit = (message, value) => {\n    action(message)(value);\n    switch (message) {\n      case "CREATE":\n      case "UPDATE":\n        return maybeDelayThenSetState(value, false);\n      case "DELETE":\n        return maybeDelayThenSetState(initialValue, true);\n      default:\n        throw new Error("bad message");\n    }\n  };\n\n  const handleReset = () => {\n    setDeleted(false);\n  };\n\n  return deleted ? (\n    <Button\n      onClick={handleReset}\n      color="primary"\n      variant="contained"\n      style={{ margin: "2em" }}\n    >\n      Item Deleted - Reset\n    </Button>\n  ) : (\n    <Editable value={value} onCommit={handleCommit} onCancel={action("CANCEL")}>\n      <QuestionForm />\n    </Editable>\n  );\n}\n\nexport default {\n  title: "ReactEditable",\n  component: Editable,\n  decorators: [Container]\n};\n\nexport const _QuestionForm = () => {\n  return (\n    <TestHarness\n      initialValue={{\n        author: {\n          firstName: "Alice",\n          lastName: "B"\n        },\n        body:\n          "I\'ve been doing x, y, and z and it hasn\'t been working. [Reference](http://example.com) says I should do w but I\'m not sure how...",\n        id: 1,\n        tags: ["react", "redux"],\n        title: "How do I connect a component to react redux"\n      }}\n    />\n  );\n};\n\nexport const QuestionFormAsync = () => {\n  return (\n    <TestHarness\n      initialValue={{\n        author: {\n          firstName: "Alice",\n          lastName: "B"\n        },\n        body:\n          "I\'ve been doing x, y, and z and it hasn\'t been working. [Reference](http://example.com) says I should do w but I\'m not sure how...",\n        id: 1,\n        tags: ["react", "redux"],\n        title: "How do I connect a component to react redux"\n      }}\n      async\n    />\n  );\n};\n\nexport const QuestionFormList = () => {\n  return <QuestionsWithForm />;\n};\n',locationsMap:{"reacteditable--question-form":{startLoc:{col:29,line:66},endLoc:{col:1,line:82},startBody:{col:29,line:66},endBody:{col:1,line:82}},"reacteditable--question-form-async":{startLoc:{col:33,line:84},endLoc:{col:1,line:101},startBody:{col:33,line:84},endBody:{col:1,line:101}},"reacteditable--question-form-list":{startLoc:{col:32,line:103},endLoc:{col:1,line:105},startBody:{col:32,line:103},endBody:{col:1,line:105}}}}},title:"ReactEditable",component:src.Editable,decorators:[Container]};var _QuestionForm=addSourceDecorator((function(){return react_default.a.createElement(TestHarness,{initialValue:{author:{firstName:"Alice",lastName:"B"},body:"I've been doing x, y, and z and it hasn't been working. [Reference](http://example.com) says I should do w but I'm not sure how...",id:1,tags:["react","redux"],title:"How do I connect a component to react redux"}})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/editable.stories.jsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),QuestionFormAsync=addSourceDecorator((function(){return react_default.a.createElement(TestHarness,{initialValue:{author:{firstName:"Alice",lastName:"B"},body:"I've been doing x, y, and z and it hasn't been working. [Reference](http://example.com) says I should do w but I'm not sure how...",id:1,tags:["react","redux"],title:"How do I connect a component to react redux"},async:!0})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/editable.stories.jsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),editable_stories_ref3=react_default.a.createElement(questions_with_form_QuestionsWithForm,null),QuestionFormList=addSourceDecorator((function(){return editable_stories_ref3}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/editable.stories.jsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},628:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var make_cancelable_1=__importDefault(__webpack_require__(1871)),state_machine_1=__importStar(__webpack_require__(1872));exports.EditableStatus=state_machine_1.Status;var react_1=__webpack_require__(0),prop_types_1=__importDefault(__webpack_require__(55)),invariant_1=__importDefault(__webpack_require__(1873));function getValue(inputValue,state){return state.status===state_machine_1.Status.PRESENTING?inputValue:state.value}exports.EditableStatusType=prop_types_1.default.oneOf(Object.keys(state_machine_1.Status)),exports.default=function useEditable(_a){var inputValue=_a.value,onCancel=_a.onCancel,onCommit=_a.onCommit,_b=react_1.useState({status:state_machine_1.Status.PRESENTING,value:void 0}),state=_b[0],setState=_b[1],commitPromise=react_1.useRef();react_1.useEffect((function(){return function(){commitPromise.current&&commitPromise.current.cancel()}}),[]);var handleStart=react_1.useCallback((function(){setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.START,inputValue)}))}),[inputValue]),handleChange=react_1.useCallback((function(nextValue){setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.CHANGE,nextValue)}))}),[]),handleCancel=react_1.useCallback((function(){var status=state.status,value=state.value;"function"==typeof onCancel&&status===state_machine_1.Status.EDITING&&onCancel(value),setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.CANCEL)}))}),[state,onCancel]),handleCommit=react_1.useCallback((function(message){if(invariant_1.default(state.status!==state_machine_1.Status.COMMITTING,"React Editable cannot commit while commiting"),setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.COMMIT,getValue(inputValue,prevState))})),"function"==typeof onCommit){var maybeCommitPromise=onCommit(message,getValue(inputValue,state));if(maybeCommitPromise&&maybeCommitPromise.then)return commitPromise.current=make_cancelable_1.default(maybeCommitPromise),commitPromise.current.then((function(){setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.SUCCESS,getValue(inputValue,prevState))}))})).catch((function(response){response&&response.isCanceled||setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.FAIL,getValue(inputValue,prevState))}))})).then((function(){return commitPromise.current=void 0}))}return setState((function(prevState){return state_machine_1.default(prevState.status,state_machine_1.Action.SUCCESS)})),Promise.resolve()}),[inputValue,onCommit,state]);return react_1.useMemo((function(){return{onCancel:handleCancel,onChange:handleChange,onCommit:handleCommit,onStart:handleStart,status:state.status,value:getValue(inputValue,state)}}),[handleCancel,handleChange,handleCommit,handleStart,inputValue,state])}},657:function(module,exports,__webpack_require__){__webpack_require__(658),__webpack_require__(1065),__webpack_require__(1066),__webpack_require__(1830),module.exports=__webpack_require__(1831)},69:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var editable_context_1=__webpack_require__(1870);exports.Editable=editable_context_1.Editable,exports.EditableProps=editable_context_1.EditableProps,exports.EditableContextConsumer=editable_context_1.EditableContextConsumer,exports.useEditableContext=editable_context_1.useEditableContext;var use_editable_1=__webpack_require__(628);exports.useEditable=use_editable_1.default,exports.EditableState=use_editable_1.EditableState,exports.EditableStatus=use_editable_1.EditableStatus,exports.EditableStatusType=use_editable_1.EditableStatusType},812:function(module,exports){}},[[657,1,2]]]);
//# sourceMappingURL=main.ea8ea146757e695f8a2b.bundle.js.map